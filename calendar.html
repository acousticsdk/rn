<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Finance Calendar</title>
  <style>
    body {
      background: #111;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: Arial, sans-serif;
    }

    .calendar {
      width: 500px;
      height: 350px;
      background: linear-gradient(135deg, #005cff, #0ad3ff);
      border-radius: 20px;
      color: #fff;
      padding: 30px;
      box-sizing: border-box;
      position: relative;
      overflow: hidden;
    }

    /* Верхняя навигация */
    .months {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      font-size: 14px;
      text-transform: uppercase;
      color: rgba(255,255,255,0.6);
    }

   .months span.active {
  color: #fff;
  font-weight: bold;
  position: relative;
 
}

.months span.active::before {
     content: "";
    position: absolute;
    left: 50%;
    right: 0;
    bottom: -6px;
    top: -35px;
    border-radius: 8px;
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0) 100%);
    z-index: 0;
    height: 349px;
    width: 200%;
    transform: translateX(-50%);

}

    

    /* Сумма */
    .amount {
      font-size: 42px;
      font-weight: bold;
    }

    .subtext {
      font-size: 14px;
      opacity: 0.7;
      margin-top: 5px;
    }

    /* График */
    .chart {
      position: absolute;
      bottom: 40px;
      left: 20px;
      right: 20px;
      height: 120px;
    }

    canvas {
      width: 100%;
      height: 100%;
    }

    /* Активная точка */
    .point {
      position: absolute;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #0ad3ff;
      border: 3px solid #fff;
      transform: translate(-50%, -50%); /* центрируем по точке */
    }

    .label {
      position: absolute;
      background: #32d86e;
      padding: 6px 12px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: bold;
      white-space: nowrap;
      transform: translate(-50%, -120%);
    }

  </style>
</head>
<body>
  <div class="calendar">
    <!-- Навигация месяцев -->
    <div class="months">
      <span>Jan</span>
      <span>Feb</span>
      <span>Mar</span>
      <span>Apr</span>
      <span class="active">May</span>
      <span>Jun</span>
    </div>

    <!-- Сумма -->
    <div class="amount">$4153.93</div>
    <div class="subtext">МАЙ 2025</div>

    <!-- График -->
    <div class="chart">
      <canvas id="chartCanvas"></canvas>
      <div id="point" class="point"></div>
      <div id="label" class="label">$139</div>
    </div>
  </div>

  <script>
    const canvas = document.getElementById("chartCanvas");
    const ctx = canvas.getContext("2d");
    const width = canvas.width = canvas.offsetWidth;
    const height = canvas.height = canvas.offsetHeight;

    // Значения по месяцам
    const values = [50, 90, 40, 60, 120, 70]; // 6 значений
    const maxVal = Math.max(...values);
    const padding = 20;

    // Переводим в координаты
    const points = values.map((v, i) => {
      const x = (i / (values.length - 1)) * (width - padding * 2) + padding;
      const y = height - ((v / maxVal) * (height - padding * 2) + padding);
      return {x, y};
    });

    // Функция для кривой (Catmull-Rom Spline через quadraticCurveTo)
    function drawCurve(ctx, pts) {
      ctx.beginPath();
      ctx.moveTo(pts[0].x, pts[0].y);
      for (let i = 0; i < pts.length - 1; i++) {
        const xc = (pts[i].x + pts[i + 1].x) / 2;
        const yc = (pts[i].y + pts[i + 1].y) / 2;
        ctx.quadraticCurveTo(pts[i].x, pts[i].y, xc, yc);
      }
      ctx.strokeStyle = "#fff";
      ctx.lineWidth = 3;
      ctx.stroke();
    }

    drawCurve(ctx, points);

    // Активная точка (например, 5-й месяц = index 4)
    const activeIndex = 4;
    const activePoint = points[activeIndex];
    const pointDiv = document.getElementById("point");
    const labelDiv = document.getElementById("label");

    // Центрируем точку
    pointDiv.style.left = activePoint.x + "px";
pointDiv.style.top = (activePoint.y + 9) + "px"; // +4px вниз

    // Лейбл чуть выше
    labelDiv.style.left = activePoint.x + "px";
    labelDiv.style.top = activePoint.y + "px";
  </script>
</body>
</html>
